<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
</head>
<body>
    <canvas id="canvas" style="border: 1px solid #aaa;display: block;margin: 50px auto;">
    当前浏览器不支持Canvas,请更换浏览器后再试
    </canvas>
    <script>
        var ball = {x:512,y:100,r:20,g:2,vx:-4,vy:0,color:"#005588"}
        window.onload = function(){
            var canvas = document.getElementById("canvas");

            canvas.width = 800;
            canvas.height = 600;

            var context = canvas.getContext("2d");

            setInterval(
                function(){
                    render(context);
                    update()
                },
                50
            )
        }
        
        function update(){
            ball.x +=ball.vx 
            ball.y +=ball.vy
            ball.vy +=ball.g //使小球下落速度加快，模拟重力加速度

            if(ball.y>600-ball.r){
                ball.y=600-ball.r
                ball.vy=(-ball.vy)/2
            }
        }
        function render(cxt){
            cxt.clearRect(0, 0,cxt.canvas.width, cxt.canvas.height);
            
            cxt.fillStyle = ball.color
            cxt.beginPath()
            cxt.arc(ball.x,ball.y,ball.r,0,2*Math.PI)
            cxt.closePath()

            cxt.fill()
        }
    </script>
</body>
</html>